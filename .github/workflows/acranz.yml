name: アークランズ

on: 
  workflow_dispatch:
    inputs:
      nestock:
        description: '必要残り株数'
        required: true
        default: 100
        type: choice
        options: ['100', '200', '300', '400', '500', '600', '700', '800', '900', '1000', '1100', '1200', '1300', '1400', '1500', '1600', '1700', '1800', '1900', '2000', '2100', '2200', '2300', '2400', '2500', '2600', '2700', '2800', '2900', '3000', '3100', '3200', '3300', '3400', '3500', '3600', '3700', '3800', '3900', '4000', '4100', '4200', '4300', '4400', '4500', '4600', '4700', '4800', '4900', '5000']
      instock:
        description: '1回当たりの注文株数'
        required: true
        default: 100
        type: choice
        options: ['100', '200', '300', '400', '500', '600', '700', '800', '900', '1000', '1100', '1200', '1300', '1400', '1500', '1600', '1700', '1800', '1900', '2000', '2100', '2200', '2300', '2400', '2500', '2600', '2700', '2800', '2900', '3000', '3100', '3200', '3300', '3400', '3500', '3600', '3700', '3800', '3900', '4000', '4100', '4200', '4300', '4400', '4500', '4600', '4700', '4800', '4900', '5000']
      joken:
        description: '注文方法'
        required: true
        default: '寄付'
        type: choice
        options: ['寄付', '引け']
jobs:
  run-acranz-script:
    runs-on: ubuntu-latest
    
    steps:
    - name: リポジトリのチェックアウト
      uses: actions/checkout@v2
      
    - name: Python のセットアップ
      uses: actions/setup-python@v2
      with:
        python-version: 3.x
      
    - name: 依存関係のインストール
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
      
    - name: Python スクリプトの実行
      run: python acranz.py
      env:
        INPUT_NESTOCK: ${{ github.event.inputs.nestock }}
        INPUT_INSTOCK: ${{ github.event.inputs.instock }}
        INPUT_JOKEN: ${{ github.event.inputs.joken }}
